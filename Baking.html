<!--취미 개인페이지 (베이킹)-->

<!DOCTYPE html>
<html lang="ko" data-bs-theme="light">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>[이름]의 추억 페이지</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    .hero {
      min-height: 40vh;
      display:grid;place-items:center;
      background:url("https://picsum.photos/1600/900?blur=2") center/cover no-repeat;
      position:relative;color:#fff;
    }
    .hero::after{content:"";position:absolute;inset:0;background:rgba(0,0,0,.4);}
    .hero .inner{position:relative;z-index:1;}
    .avatar{width:100px;height:100px;border-radius:50%;object-fit:cover;border:3px solid #fff;}
    .gallery-img{aspect-ratio:4/3;object-fit:cover;}
    .fixed-back{position:fixed;left:16px;bottom:16px;z-index:1030;}
    #guestbookList{max-height:260px;overflow:auto;}
  </style>
</head>
<body>
<a href="index.html" class="btn btn-outline-secondary fixed-back">← 메인</a>

<header class="hero">
  <div class="inner text-center">
    <img src="https://picsum.photos/300?random=5" alt="프로필" class="avatar mb-3">
    <h1 class="fw-bold">이름 또는 닉네임</h1>
    <p class="lead mb-0">간단한 한 줄 소개</p>
  </div>
</header>

<section class="py-5">
  <div class="container">
    <h2 class="h4 fw-bold mb-3">About</h2>
    <p>
      나에 대한 짧은 소개를 여기에 적어주세요. 언제부터 어떤 취미를 즐기게 되었는지,
      특별했던 추억 한두 가지를 간단히 적으면 좋습니다.
    </p>
  </div>
</section>

<section class="py-5 bg-body-secondary">
  <div class="container">
    <h2 class="h4 fw-bold mb-3">Gallery</h2>
    <div class="row g-4">
      <div class="col-sm-6 col-lg-4">
        <img src="https://picsum.photos/800/600?random=11" class="w-100 rounded-3 shadow-sm gallery-img" alt="추억1">
      </div>
      <div class="col-sm-6 col-lg-4">
        <img src="https://picsum.photos/800/600?random=12" class="w-100 rounded-3 shadow-sm gallery-img" alt="추억2">
      </div>
      <div class="col-sm-6 col-lg-4">
        <img src="https://picsum.photos/800/600?random=13" class="w-100 rounded-3 shadow-sm gallery-img" alt="추억3">
      </div>
    </div>
  </div>
</section>

<section class="py-5">
  <div class="container">
    <h2 class="h4 fw-bold mb-4">Guestbook</h2>
    <div class="row g-4">
      <div class="col-lg-5">
        <form id="gbForm" class="card shadow-sm">
          <div class="card-body">
            <div class="mb-3">
              <label class="form-label" for="gbName">이름</label>
              <input id="gbName" type="text" class="form-control" required>
            </div>
            <div class="mb-3">
              <label class="form-label" for="gbMsg">메시지</label>
              <textarea id="gbMsg" class="form-control" rows="4" required></textarea>
            </div>
            <div class="d-flex justify-content-between align-items-center">
              <button class="btn btn-primary" type="submit">등록</button>
              <button class="btn btn-outline-danger btn-sm" type="button" id="clearGb">전체삭제</button>
            </div>
            <p class="small text-body-secondary mt-2">* 로컬스토리지에 저장됩니다.</p>
          </div>
        </form>
      </div>
      <div class="col-lg-7">
        <div class="card shadow-sm h-100">
          <div class="card-body">
            <h6 class="fw-semibold">메시지 목록</h6>
            <div id="guestbookList" class="mt-3"></div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<footer class="py-4 bg-body-tertiary text-center small text-body-secondary">
  © <span id="year"></span> 나의 추억 페이지
</footer>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script>
  document.getElementById('year').textContent = new Date().getFullYear();

  const GB_KEY = 'guestbook-' + location.pathname;
  const listEl = document.getElementById('guestbookList');
  const formEl = document.getElementById('gbForm');
  const clearBtn = document.getElementById('clearGb');

  function render(items){
    listEl.innerHTML='';
    if(!items.length){
      listEl.innerHTML='<p class="text-body-secondary">아직 메시지가 없습니다.</p>';
      return;
    }
    items.slice().reverse().forEach(i=>{
      const card=document.createElement('div');
      card.className='border rounded-3 p-3 mb-3';
      card.innerHTML=`<strong>${i.name}</strong>
        <span class="small text-body-secondary float-end">${new Date(i.ts).toLocaleString()}</span>
        <p class="mb-0 mt-2">${i.msg.replaceAll('<','&lt;')}</p>`;
      listEl.appendChild(card);
    });
  }
  function load(){
    try{render(JSON.parse(localStorage.getItem(GB_KEY)||'[]'));}catch{render([]);}
  }
  formEl.addEventListener('submit',e=>{
    e.preventDefault();
    const name=document.getElementById('gbName').value.trim();
    const msg=document.getElementById('gbMsg').value.trim();
    if(!name||!msg)return;
    const arr=JSON.parse(localStorage.getItem(GB_KEY)||'[]');
    arr.push({name,msg,ts:Date.now()});
    localStorage.setItem(GB_KEY,JSON.stringify(arr));
    formEl.reset();
    load();
  });
  clearBtn.addEventListener('click',()=>{
    if(confirm('모든 메시지를 삭제할까요?')){localStorage.removeItem(GB_KEY);load();}
  });
  load();
</script>
</body>
</html>
